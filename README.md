# 전투적인 매치메이커 (전투체육 매칭 어플리케이션)

## 개요
	군 전투체육 시간에, 같은 운동을 하고 싶은 사람들을 맺어주는 매칭 어플리케이션

그날 하고 싶은 운동을 선택하고 버튼 몇 번 누르고 기다리면 어플리케이션이 자동으로 영내의 사람들을 팀으로 맺이주고 운동장과 경기 시간을 배정해준다.

## 모티브
- 전투체육 시간 전후로 병사들은 구기종목 (축구, 족구, 농구 등) 운동을 할 인원을 찾아다니느라 시간을 많이 소비함
- 간부들의 경우, 구기종목에 관심이 많아도 부대 내 리그전 등이 아니면 전투체육 시간에 단체로 참여하거나, 참여할 사람을 모으는 일이 흔치 않음
- 인기 게임 (오버워치, 리그 오브 레전드)에서 버튼 몇번으로 자동으로 게임 상대방을 배정해주는 것에 착안

## 대상 장병
- 전투체육 시간에 축구를 하고 싶지만 사람이 모자라서 못 하는 병사들
- 특정 운동을 하고 싶지만 사무실 사람들만으로는 인원이 부족하고, 다른 사무실까지 가서 물어보기엔 눈치보이는 간부들
- 영내 타 부대원과 실력을 겨뤄보고 싶은 분대/소대/중대

## 주요 기능
- "매치메이킹": 축구/농구/족구 등 운동을 선택하고 "큐"에 들어가면 자동으로 그날 전투체육때 같이 게임할 영내 사람들을 "매치"하고 해당일 운동장을 배정한다.
	- 같은 팀으로 뛰고 싶은 사람들을 모아서 "그룹" 단위로 큐에 들어갈수도 있다.
- "운동장 예약": 축구장, 농구장 등 수요가 많은 운동장을 클릭 몇번으로 예약하는 기능을 제공.
- 군번으로 로그인, 한번 로그인하면 휴대폰을 꺼도 로그아웃 전까지 세션이 유지되어 편리
- 군내 DB와 연동하여 자동으로 "영내 운동장"들과 연동 (희망)
- 프로필 사진 업로드 (구현), 전투체육 일지 자동 관리 등 (구현 가능).

## 장점 및 기대 효과
1. 직관적인 UX: 이해하기 쉬운, "게임"같은 인터페이스
2. 실력 보정: 축적되는 경기 기록을 바탕으로 "실력"을 측정해서 비슷한 실력의 인원끼리 매치 가능
3. 시간 절약: 축구를 하기 위해 사람 22명을 모을 필요 없이 버튼 몇번으로 편리하게 참여 가능
4. 부대원 단결 도모: 분대/소대 단위 팀 구성 후 매치를 통해 부대원 단합 도모 및 선의의 경쟁 유도
5. 전투체육 활성화: 병사들 및 간부들의 적극적인 전투체육 참여 여건 조성, 군 장병 체력 증진에 기여


## 사용 방법
### 서버 (Node.js 및 MongoDB 연동 방법)
2. 서버의 필수 프로그램들을 설치한다. 다음 패키지들을 npm을 이용하여 설치한다.

		npm install -g gulp pm2 nodemon
		// Ubuntu에서 구동할 경우 앞에 sudo를 붙여줌으로써 root 권한으로 실행한다.

3. MongoDB 서버를 시작한다. Windows의 경우 다음 명령어를 입력하여 MongoD를 시작한다. **단, DB를 저장할 위치는 실제 존재하는 폴더여야 한다 (자동 생성하지 않는다).**

		mognod --dbpath <DB를 저장할 위치>

	또는 Ubuntu 환경에서(apt로 설치한 패키지)는 다음 명령어로 서버를 구동한다.

		sudo service mongod start

4. DB의 위치를 수정하기 위해 환경 변수로 다음과 같은 값을 지정한다.

		DB=mongod://localhost:27017/matching

5. Node.js 서버의 경우 `pm2`(packange manager)를 이용하여 구동한다

		pm2 start index.js --name "military-sports-matchmaker"

	또는, 환경변수를 적용한 1회성 구동을 위해 다음과 같이 할 수 있다.
	
		DB=mongod://localhost:27017/matching PORT=5012 node index.js

### 클라이언트
1. `client` 폴더를 Android Studio로 로드한 뒤, `client/app/src/main/java/kr/oss/sportsmatchmaker/militarysportsmatchmaker/Proxy.java`를 다음과 같이 수정한다.

		// 9번 줄
		public static final String SERVER_URL = "http://<서버를 실행한 IP 또는 도메인>:<포트>"

	로컬에서 테스팅 목적으로 실행할 목적이라면 (AVD 이용), 다음과 같이 설정할 수 있다.

		public static final String SERVER_URL = "http://localhost:포트"